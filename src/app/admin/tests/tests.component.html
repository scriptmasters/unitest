<section>
    <div class="container-fluid">
        <header class="row">
            <div class="card col-12">
                <div class="card-body d-flex justify-content-between">
                    <div class="align-self-center">
                        <h2 class="display">Тести</h2>
                    </div>
                    <div class="row d-flex justify-content-around">
                        <select (change)="getTestFilter(subjectId)" [(ngModel)]="subjectId" class="form-control col-6"> 
                            <option *ngFor="let s of subject" [value]="s.subject_id">{{s.subject_name}}</option>
                        </select>
                        <button type="button" class="btn btn-primary" (click)="addDialog()">Додати новий параметр</button>
                    </div>
                </div>
            </div>
        </header>

        <div class="row">
            <div class="card col-12 col-lg-12">
                <div class="card-body table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>№</th>
                                <th>Назва</th>
                                <th>Завдань</th>
                                <th>Тривалість (хвилин)</th>
                                <th>Спроб</th>
                                <th>Статус</th>
                                <th colspan="4"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let t of test; let i = index">
                                <th>{{i+1}}</th>
                                <td>{{t.test_name}}</td>
                                <td>{{t.tasks}}</td>
                                <td>{{t.time_for_test}}</td>
                                <td>{{t.attempts}}</td>
                                <td *ngIf="t.enabled==1;else disabled">Доступно</td>
                                <ng-template #disabled>
                                    <td>Недоступно</td>
                                </ng-template>
                                <td><i class="fa fa-cog" title="Редагувати" (click)="openDialog(t, t.test_id)"></i></td>
                                <td><i class="fa fa-list-ol" title="Cписок завдань {{t.test_name}}" (click)="openQuestions(t.test_id)"></i></td>
                                <td><i class="fa fa-file-text" title="Деталі тесту {{t.test_name}}" (click)="openDetails(t.test_id)"></i></td>
                                <td><i class="fa fa-close" title="Видалити тест {{t.test_name}}" (click)="deleteTest(t.test_id)"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>
